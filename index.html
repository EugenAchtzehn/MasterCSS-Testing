<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible"
            content="IE=edge" />
      <meta name="viewport"
            content="width=device-width, initial-scale=1.0" />
      <title>MasterCSS Testing Project</title>
      <link rel="stylesheet"
            href="./css/style.css" />
      <script src="https://cdn.master.co/css"></script>
      <script src="https://code.jquery.com/jquery-3.6.1.js"
              integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
              crossorigin="anonymous"></script>
</head>

<body>
      <div class="container font:sans">
            <h1 class="font:40 font:heavy italic m:50 text:center">Hello
                  World</h1>
            <button type="button"
                    class="r:20 b:0 bg:indigo-60 f:#fff"
                    id="trigger">觸發 iframe</button>
            <button type="button"
                    class="r:20 b:0 bg:green-60 f:#fff"
                    id="trigger_jq">觸發 iframe</button>
            <iframe src="./subsystem/child.html"
                    frameborder="0"
                    name="target"
                    id="target_id"
                    class="d:block bg:gold-60 mt:16 h:3xs w:full"></iframe>
            <h3 id="receiveTarget">Ready to hear child</h3>
      </div>
</body>

<script>
      const trigger = document.getElementById('trigger');
      const target_id = document.getElementById('target_id');
      const receiveTarget = document.getElementById('receiveTarget');
      const msg = "I'm your father";

      trigger.addEventListener('click', () => {
            target_id.contentWindow.getStation('斗六');
            // if (target_id.document.readyState === 'complete') {
            //   target_id.window.fnChild(msg);
            // }
            // ----- first ver. using the name property of iframe
            // if (target.document.readyState === 'complete') {
            //   target.window.fnChild(msg);
            // }
      });

      // Do it in a jQuery way.
      $('#trigger_jq').click(() => {
            // console.log('triggering_jq');
            $('#target_id')[0].contentWindow.getStation('崙背 by jQuery');
      });

      function receiveFn(arg) {
            receiveTarget.textContent = arg;
            // console.log(`parent hear: ${arg}`);
      }
</script>

</html>